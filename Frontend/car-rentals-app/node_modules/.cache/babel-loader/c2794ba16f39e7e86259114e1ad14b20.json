{"ast":null,"code":"import _objectSpread from \"E:\\\\2022\\\\CarRentalAppReactNodejs-master\\\\Frontend\\\\car-rentals-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"E:\\\\2022\\\\CarRentalAppReactNodejs-master\\\\Frontend\\\\car-rentals-app\\\\src\\\\components\\\\Form.jsx\";\nimport React, { Component } from 'react';\nimport Input from './common/Input';\nimport Joi from 'joi-browser';\n\nclass Form extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.inputBuilder = (label, name, type = 'text') => {\n      return React.createElement(Input, {\n        label: label,\n        name: name,\n        type: type,\n        value: this.state.data[name],\n        error: this.state.error[name],\n        handleChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 7\n        },\n        __self: this\n      });\n    };\n\n    this.handleChange = e => {\n      const _e$currentTarget = e.currentTarget,\n            value = _e$currentTarget.value,\n            name = _e$currentTarget.name;\n      let err = this.validate(value, name, this.schema);\n\n      const error = _objectSpread({}, this.state.error);\n\n      error[name] = err;\n\n      const data = _objectSpread({}, this.state.data);\n\n      data[name] = value;\n      this.setState({\n        data: data,\n        error: error\n      });\n    };\n\n    this.validate = (value, name, schema) => {\n      const _Joi$validate = Joi.validate(value, schema[name]),\n            error = _Joi$validate.error;\n\n      if (error) return error.message;else return null;\n    };\n\n    this.submitDisabler = () => {\n      let bool = false;\n      const error = this.state.error;\n      const data = this.state.data;\n\n      for (let err in error) {\n        if (error[err]) {\n          bool = true;\n        }\n      }\n\n      for (let item in data) {\n        if (!data[item]) {\n          bool = true;\n        }\n      }\n\n      return bool;\n    };\n  }\n\n}\n\nexport default Form;","map":{"version":3,"sources":["E:/2022/CarRentalAppReactNodejs-master/Frontend/car-rentals-app/src/components/Form.jsx"],"names":["React","Component","Input","Joi","Form","inputBuilder","label","name","type","state","data","error","handleChange","e","currentTarget","value","err","validate","schema","setState","message","submitDisabler","bool","item"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,GAAP,MAAgB,aAAhB;;AACA,MAAMC,IAAN,SAAmBH,SAAnB,CAA6B;AAAA;AAAA;;AAAA,SACzBI,YADyB,GACV,CAACC,KAAD,EAAQC,IAAR,EAAcC,IAAI,GAAC,MAAnB,KAA8B;AACzC,aACI,oBAAC,KAAD;AACI,QAAA,KAAK,EAAEF,KADX;AAEI,QAAA,IAAI,EAAEC,IAFV;AAGI,QAAA,IAAI,EAAEC,IAHV;AAII,QAAA,KAAK,EAAE,KAAKC,KAAL,CAAWC,IAAX,CAAgBH,IAAhB,CAJX;AAKI,QAAA,KAAK,EAAE,KAAKE,KAAL,CAAWE,KAAX,CAAiBJ,IAAjB,CALX;AAMI,QAAA,YAAY,EAAE,KAAKK,YANvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAUH,KAZwB;;AAAA,SAazBA,YAbyB,GAaTC,CAAD,IAAO;AAAA,+BACIA,CAAC,CAACC,aADN;AAAA,YACXC,KADW,oBACXA,KADW;AAAA,YACJR,IADI,oBACJA,IADI;AAGlB,UAAIS,GAAG,GAAG,KAAKC,QAAL,CAAcF,KAAd,EAAqBR,IAArB,EAA2B,KAAKW,MAAhC,CAAV;;AACA,YAAMP,KAAK,qBAAO,KAAKF,KAAL,CAAWE,KAAlB,CAAX;;AACAA,MAAAA,KAAK,CAACJ,IAAD,CAAL,GAAcS,GAAd;;AAEA,YAAMN,IAAI,qBAAO,KAAKD,KAAL,CAAWC,IAAlB,CAAV;;AACAA,MAAAA,IAAI,CAACH,IAAD,CAAJ,GAAaQ,KAAb;AACA,WAAKI,QAAL,CAAc;AACVT,QAAAA,IAAI,EAACA,IADK;AAEVC,QAAAA,KAAK,EAAEA;AAFG,OAAd;AAIH,KA1BwB;;AAAA,SA4BzBM,QA5ByB,GA4Bd,CAACF,KAAD,EAAQR,IAAR,EAAcW,MAAd,KAAyB;AAAA,4BAChBf,GAAG,CAACc,QAAJ,CAAaF,KAAb,EAAoBG,MAAM,CAACX,IAAD,CAA1B,CADgB;AAAA,YACzBI,KADyB,iBACzBA,KADyB;;AAEhC,UAAGA,KAAH,EAAU,OAAOA,KAAK,CAACS,OAAb,CAAV,KACS,OAAO,IAAP;AACZ,KAhCwB;;AAAA,SAkCzBC,cAlCyB,GAkCR,MAAM;AACnB,UAAIC,IAAI,GAAG,KAAX;AACA,YAAMX,KAAK,GAAG,KAAKF,KAAL,CAAWE,KAAzB;AACA,YAAMD,IAAI,GAAG,KAAKD,KAAL,CAAWC,IAAxB;;AACA,WAAI,IAAIM,GAAR,IAAeL,KAAf,EAAsB;AAClB,YAAGA,KAAK,CAACK,GAAD,CAAR,EAAe;AACXM,UAAAA,IAAI,GAAG,IAAP;AACH;AACJ;;AACD,WAAI,IAAIC,IAAR,IAAgBb,IAAhB,EAAsB;AAClB,YAAG,CAACA,IAAI,CAACa,IAAD,CAAR,EAAgB;AACZD,UAAAA,IAAI,GAAG,IAAP;AACH;AACJ;;AACD,aAAOA,IAAP;AACH,KAjDwB;AAAA;;AAAA;;AAoD7B,eAAelB,IAAf","sourcesContent":["import React, { Component } from 'react';\nimport Input from './common/Input';\nimport Joi from 'joi-browser';\nclass Form extends Component {\n    inputBuilder = (label, name, type='text') => {\n        return(\n            <Input \n                label={label}\n                name={name}\n                type={type}\n                value={this.state.data[name]}\n                error={this.state.error[name]}\n                handleChange={this.handleChange}\n            />\n        )\n    }\n    handleChange = (e) => {\n        const {value, name} = e.currentTarget;\n\n        let err = this.validate(value, name, this.schema);\n        const error = {...this.state.error}\n        error[name] = err;\n\n        const data = {...this.state.data}\n        data[name] = value;\n        this.setState({\n            data:data,\n            error: error\n        })\n    }\n\n    validate = (value, name, schema) => {\n        const {error} = Joi.validate(value, schema[name]);\n        if(error) return error.message;\n            else return null;\n    }\n    \n    submitDisabler = () => {\n        let bool = false;\n        const error = this.state.error;\n        const data = this.state.data;\n        for(let err in error) {\n            if(error[err]) {\n                bool = true;\n            }\n        }\n        for(let item in data) {\n            if(!data[item]) {\n                bool = true;\n            }\n        }\n        return bool;\n    }\n}\n \nexport default Form;"]},"metadata":{},"sourceType":"module"}